---
sidebar_position: 1
---

# Архитектура NapiLinux

NapiLinux оптимизирован для embedded систем и изначально спроектирован с учетом длительной автономной работы, возможностью апдейта системы и откатов. Основное отличительное свой свойство NapiLinux от классических дистрибутивов (Debian, Ubuntu, DietPi) -дублирующие друг друга разделы с системой и отдельный раздел с пользовательскими данными.

![NapiLinux](img-li/schm1.png)

|partition      | size                  |ro\rw|
|---------------|-----------------------|-----|
|/dev/mmcblk1p1 | 1.5G Linux filesystem | ro  |
|/dev/mmcblk1p2 | 1.5G Linux filesystem | not mounted  |
|/dev/mmcblk1p3 |  1G  Linux filesystem| rw |



![NapiLinux](img-li/p2.jpg)


Система может грузиться как с раздела 1 (/dev/mmcblk1p1) так и с раздела 2 (/dev/mmcblk1p2). При апдейте системы обновляется один из разделов (более "старый"). Если обновление прошло неудачно, система загрузится с другого раздела. Раздел 3 (/dev/mmcblk1p3) с пользовательскими данными содержит все конфиги, пользовательские файлы, базы данных и так далее. Чтобы сделать бекап, не нужно копировать всю систему, достаточно сделать бекап этого раздела. Чтобы "обнулить" систему достаточно стереть все данные этого раздела. 