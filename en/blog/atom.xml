<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://napilinux.ru/en/blog</id>
    <title>NapiLinux Blog</title>
    <updated>2024-05-15T00:00:00.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://napilinux.ru/en/blog"/>
    <subtitle>NapiLinux Blog</subtitle>
    <icon>https://napilinux.ru/en/img/favicon.ico</icon>
    <entry>
        <title type="html"><![CDATA[Новый релиз 0.1.19 NapiLinux и NapiConfig]]></title>
        <id>https://napilinux.ru/en/blog/dmn-0.1.19</id>
        <link href="https://napilinux.ru/en/blog/dmn-0.1.19"/>
        <updated>2024-05-15T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Что нового в прошивке 0.1.19]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="что-нового-в-прошивке-0119">Что нового в прошивке 0.1.19<a href="#что-нового-в-прошивке-0119" class="hash-link" aria-label="Direct link to Что нового в прошивке 0.1.19" title="Direct link to Что нового в прошивке 0.1.19">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="состав-linux">Состав Linux<a href="#состав-linux" class="hash-link" aria-label="Direct link to Состав Linux" title="Direct link to Состав Linux">​</a></h3><ul><li>mbusd обновлен до 0.5.2</li><li>добавлена утилита mbpoll (опрос по modbus tcp\rtu), modpoll также присутствует</li><li>добавлена утилита htop</li><li>добавлены утилиты для работы с snmp (snmp-tools) и mibs</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="napiconfig">NapiConfig<a href="#napiconfig" class="hash-link" aria-label="Direct link to NapiConfig" title="Direct link to NapiConfig">​</a></h3><ul><li>Новая главная страница</li></ul><p><img loading="lazy" src="/en/assets/images/fp-8530ace7fc085f287dbf4da61f78a3ad.jpg" width="832" height="478" class="img_ev3q"></p><ul><li>Добавлена возможность закачивать MIB-файлы для дальнейшего опроса по SNMP через Telegraf</li></ul><blockquote><p>Новое меню</p></blockquote><p><img loading="lazy" src="/en/assets/images/snmp-1-b6be4a6efe3f3f03b602401de3c261da.jpg" width="724" height="332" class="img_ev3q"></p><blockquote><p>Возможность загружать MIB-ы (системные уже загружены). Можно подгружать несколько MIB-файлов</p></blockquote><p><img loading="lazy" src="/en/assets/images/snmp-2-aa4399a7c660265ad7bf60a5a980c024.jpg" width="843" height="534" class="img_ev3q"></p><blockquote><p>Загруженный MIB можно удалить</p></blockquote><p><img loading="lazy" src="/en/assets/images/snmp-3-e0cfe78f91d74f50973dd37af634d361.jpg" width="825" height="391" class="img_ev3q"></p><ul><li>Добавлена возможность управлять некоторыми сервисами Linux (telegraf, mbusd, influx, mosquitto)</li></ul><p><img loading="lazy" src="/en/assets/images/services-244695d7c81e2a7578a0830197a0892c.jpg" width="783" height="299" class="img_ev3q"></p><ul><li>Добавлены шаблоны датчиков для опроса по протоколам<ul><li>Modbus RTU</li><li>Modbus TCP</li><li>SNMP </li></ul></li></ul><p><img loading="lazy" src="/en/assets/images/sensors-151a63a942aa00d25528dab983c9621e.jpg" width="854" height="388" class="img_ev3q"></p><ul><li><p>Добавлен системный "датчик" мониторинга системных параметров (загрузка процессора, диска, памяти). Работает только при запущенных сервисах telegraf, influx</p></li><li><p>Экспериментально добавлены графики датчиков. Работает только при запущенных сервисах telegraf, influx</p></li></ul><p><img loading="lazy" src="/en/assets/images/graph-ea78a6171b3306ca2395250adfbf04c3.jpg" width="801" height="548" class="img_ev3q"></p><ul><li>Появилась вкладка "Информация", с краткой справкой</li></ul><p><img loading="lazy" src="/en/assets/images/info-69c41b10d05bcae1b1f3c8079e0c57f2.jpg" width="564" height="338" class="img_ev3q"></p><ul><li>Появился Веб-интерфейс к открытому шлюзу Modbus RTU-TCP. Не забудьте включить службу. Учитывайте что сервис mbusd блокирует RS485 порт, утилиты modpoll\mbpoll и telegraf в режиме modbus rtu работать не будут. </li></ul><p><img loading="lazy" src="/en/assets/images/mbusd-5e5473fb55c17ac7fe97189cccd0fd6b.jpg" width="864" height="632" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="известные-проблемы">Известные проблемы<a href="#известные-проблемы" class="hash-link" aria-label="Direct link to Известные проблемы" title="Direct link to Известные проблемы">​</a></h2><ul><li>Апдейт системы не работает из Веб-интерфейса, необходимо пользоваться swupdate который доступен через веб по адресу: http://IP:8082</li><li>После Апдейта через swupdate надо перегрузить устройство вручную (через ssh или Веб) </li><li>Без включенных служб telegraf\influx графики не отображаются (могут выскакивать ошибки)</li><li>Для того, чтобы редактировать файл датчика, его надо включить. При этом, если файл неправильный, то telegraf не запустится. После редактирования файла датчика при корректном конфиге telegraf запустится автоматически (если включена его служба).</li><li>Для проверки корректности работы telegraf (идут данные или нет, какие данные идут), необходимо пользоваться командной строкой, скро это можно будет сделать через Веб</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="как-проверить-корректность-работы-telegraf">Как проверить корректность работы Telegraf<a href="#как-проверить-корректность-работы-telegraf" class="hash-link" aria-label="Direct link to Как проверить корректность работы Telegraf" title="Direct link to Как проверить корректность работы Telegraf">​</a></h2><p>В командной строке набрать команду, гасить службу telegraf при этом необязательно.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@napi-rk3328:~# telegraf --test -config /etc/telegraf/telegraf.conf --config-directory /data/active/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Также для подробного вывода можно использовать флажок `<code>--debug</code></p><p>Узнать запустилась ли служба можно командой</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">systemctl status telegraf</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Или через Веб-интерфейс (зеленая (Active) \ красная(Inactive)), но надо также учитывать что Веб-интерфейс обновляется с задержкой.</p>]]></content>
        <author>
            <name>dmn</name>
            <uri>https://github.com/dmnovikov</uri>
        </author>
        <category label="napiworld" term="napiworld"/>
        <category label="napi" term="napi"/>
        <category label="napilinux" term="napilinux"/>
    </entry>
</feed>